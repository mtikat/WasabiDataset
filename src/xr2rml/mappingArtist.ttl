@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix mo: <http://purl.org/ontology/mo/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix rr:  <http://www.w3.org/ns/r2rml#> .
@prefix schema: <http://schema.org/> .
@prefix wsb: <http://ns.inria.fr/wasabi/ontology/wsb#> .
@prefix xrr: <http://i3s.unice.fr/xr2rml#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dbp: <http://dbpedia.org/ontology/> .

<#Artist_Person>
    a rr:TriplesMap;
    xrr:logicalSource [
    	# Jongo needs strings in singles quotes (difference with MongoDB shell)
        xrr:query """db.artist_without_members.find( { 'name' : {$exists: 1} , 'type' : 'Person' } )""";
    ];
    rr:subjectMap [ 
    	rr:template "http://ns.inria.fr/wasabi/artist/{$._id}";
		rr:class wsb:Artist_Person;
    ];
  	
  	# Id Artist
    rr:predicateObjectMap [
    	rr:predicate mo:uuid ;
    	rr:objectMap [ 
            xrr:reference "$._id";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.name";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
            ];  
    ];

    # Artist's gender
    rr:predicateObjectMap [
        rr:predicate foaf:gender;
        rr:objectMap [ 
            xrr:reference "$.gender";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Deezer
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_artist_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_deezer"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist MusicBrainz
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz_guid;
        rr:objectMap [ 
            xrr:reference "$.id_artist_musicbrainz"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Discogs
    rr:predicateObjectMap [
        rr:predicate wsb:discogs_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_discogs";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Type
    rr:predicateObjectMap [
        rr:predicate rdfs:type;
        rr:objectMap [ 
            xrr:reference "$.type"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name without accent
    rr:predicateObjectMap [
        rr:predicate wsb:name_without_accent;
        rr:objectMap [ 
            xrr:reference "$.name_accent_fold"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Disambiguation
    rr:predicateObjectMap [
        rr:predicate schema:disambiguatingDescription;
        rr:objectMap [ 
            xrr:reference "$.disambiguation"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's Deezer fans
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_fans;
        rr:objectMap [ 
            xrr:reference "$.deezerFans"; 
            rr:termType rr:Literal;
            rr:datatype xsd:integer;
        ];
    ];

    # Artist's page
    rr:predicateObjectMap [
        rr:predicate mo:homepage;
        rr:objectMap [ 
            xrr:reference "$.urlOfficialWebsite"; 
            rr:termType rr:IRI;
        ];
    ];

    # Allmusic page
    rr:predicateObjectMap [
        rr:predicate wsb:allMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlAllmusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # MusicBrainz page
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz;
        rr:objectMap [ 
            xrr:reference "$.urlMusicBrainz"; 
            rr:termType rr:IRI;
        ];
    ];

    # Deezer page
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_page;
        rr:objectMap [ 
            xrr:reference "$.urlDeezer"; 
            rr:termType rr:IRI;
        ];
    ];

    # Abstract
    rr:predicateObjectMap [
        rr:predicate dcterms:abstract;
        rr:objectMap [ 
            xrr:reference "$.abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Subject
    rr:predicateObjectMap [
        rr:predicate dcterms:subject;
        rr:objectMap [ 
            xrr:reference "$.subject"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # DBPedia Abstract
    rr:predicateObjectMap [
        rr:predicate dbp:abstract;
        rr:objectMap [ 
            xrr:reference "$.dbp_abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

     # Artist's picture thumbnail
    rr:predicateObjectMap [
        rr:predicate schema:thumbnail;
        rr:objectMap [
            rr:template "{$.picture.small}";
        ];
    ];

    # Artist's picture 
    rr:predicateObjectMap [
        rr:predicate schema:image;
        rr:objectMap [
            rr:template "{$.picture.xl}";
        ];
    ];

    # Spotify page
    rr:predicateObjectMap [
        rr:predicate wsb:spotify_page;
        rr:objectMap [ 
            xrr:reference "$.urlSpotify"; 
            rr:termType rr:IRI;
        ];
    ];

    # PureVolume page
    rr:predicateObjectMap [
        rr:predicate wsb:pureVolume_page;
        rr:objectMap [ 
            xrr:reference "$.urlPureVolume"; 
            rr:termType rr:IRI;
        ];
    ];

    # GooglePlus page
    rr:predicateObjectMap [
        rr:predicate wsb:googlePlus_page;
        rr:objectMap [ 
            xrr:reference "$.urlGooglePlus"; 
            rr:termType rr:IRI;
        ];
    ];

    # ITunes page
    rr:predicateObjectMap [
        rr:predicate wsb:iTunes_page;
        rr:objectMap [ 
            xrr:reference "$.urlITunes"; 
            rr:termType rr:IRI;
        ];
    ];

    # YouTube page
    rr:predicateObjectMap [
        rr:predicate wsb:youTube_page;
        rr:objectMap [ 
            xrr:reference "$.urlYouTube"; 
            rr:termType rr:IRI;
        ];
    ];

    # BBC page
    rr:predicateObjectMap [
        rr:predicate wsb:BBC_page;
        rr:objectMap [ 
            xrr:reference "$.urlBBC"; 
            rr:termType rr:IRI;
        ];
    ];

    # Amazon page
    rr:predicateObjectMap [
        rr:predicate wsb:amazon_page;
        rr:objectMap [ 
            xrr:reference "$.urlAmazon"; 
            rr:termType rr:IRI;
        ;
    ];

    # SecondHandSongs page
    rr:predicateObjectMap [
        rr:predicate wsb:secondHandSongs_page;
        rr:objectMap [ 
            xrr:reference "$.urlSecondHandSongs"; 
            rr:termType rr:IRI;
        ];
    ];

    # URL LastFm
    rr:predicateObjectMap [
        rr:predicate wsb:lastFm_page;
        rr:objectMap [ 
            xrr:reference "$.urlLastFm"; 
            rr:termType rr:IRI;
        ];
    ];

    # Array genres
    rr:predicateObjectMap [
        rr:predicate mo:genre;
        rr:objectMap [ 
            xrr:reference "$.genres.*";
        ]
    ];

    # Array location info
    rr:predicateObjectMap [
        rr:predicate schema:location;
        rr:objectMap [ 
            xrr:reference "$.locationInfo.*";
        ]
    ];

    # Array DBPedia genres
    rr:predicateObjectMap [
        rr:predicate dbp:genre;
        rr:objectMap [ 
            xrr:reference "$.dbp_genre.*";
        ]
    ];

    # Array associated Artists
    rr:predicateObjectMap [
        rr:predicate dbp:associatedMusicalArtist;
        rr:objectMap [ 
            xrr:reference "$.associatedMusicalArtist.*";
        ]
    ];

    # Array labels
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [ 
            xrr:reference "$.labels.*";
        ]
    ];

    # Array name variations
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.nameVariations.*";
        ]
    ];

    # Birth
    rr:predicateObjectMap [
        rr:predicate schema:birthDate;
        rr:objectMap [ 
            xrr:reference "$.begin";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Death
    rr:predicateObjectMap [
        rr:predicate schema:deathDate;
        rr:objectMap [ 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Wikipedia page
    rr:predicateObjectMap [
        rr:predicate mo:wikipedia;
        rr:objectMap [ 
            xrr:reference "$.urlWikipedia"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikidata page
    rr:predicateObjectMap [
        rr:predicate wsb:wikidata_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikidata"; 
            rr:termType rr:IRI;
        ];
    ];

    # Discogs page
    rr:predicateObjectMap [
        rr:predicate mo:discogs;
        rr:objectMap [ 
            xrr:reference "$.urlDiscogs"; 
            rr:termType rr:IRI;
        ];
    ];

    # Facebook page
    rr:predicateObjectMap [
        rr:predicate wsb:facebook_page;
        rr:objectMap [ 
            xrr:reference "$.urlFacebook"; 
            rr:termType rr:IRI;
        ];
    ];

    # MySpace page
    rr:predicateObjectMap [
        rr:predicate mo:myspace;
        rr:objectMap [ 
            xrr:reference "$.urlMySpace"; 
            rr:termType rr:IRI;
        ];
    ];

    # RateYourMusic page
    rr:predicateObjectMap [
        rr:predicate wsb:rateYourMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlRateYourMusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # Twitter page
    rr:predicateObjectMap [
        rr:predicate wsb:twitter_page;
        rr:objectMap [ 
            xrr:reference "$.urlTwitter"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikia page
    rr:predicateObjectMap [
        rr:predicate wsb:wikia_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikia"; 
            rr:termType rr:IRI;
        ];
    ];

    # SoundCloud page
    rr:predicateObjectMap [
        rr:predicate wsb:soundCloud_page;
        rr:objectMap [ 
            xrr:reference "$.urlSoundCloud"; 
            rr:termType rr:IRI;
        ];
    ];

    # Instagram page
    rr:predicateObjectMap [
        rr:predicate wsb:instagram_page;
        rr:objectMap [ 
            xrr:reference "$.urlInstagram"; 
            rr:termType rr:IRI;
        ];
    ];

    # Object location
    rr:predicateObjectMap [
        rr:predicate wsb:location;
        rr:objectMap [
            xrr:reference "$.location.*";
            rr:termType xrr:RdfList;
            xrr:nestedTermMap [
                rr:template "{$.id_city_musicbrainz} {$.country} {$.city}";
                rr:termType rr:BlankNode;
            ];
        ];
    ].

<#Artist_Group>
    a rr:TriplesMap;
    xrr:logicalSource [
    	# Jongo needs strings in singles quotes (difference with MongoDB shell)
        xrr:query """db.artist_without_members.find( { 'name' : {$exists: 1} , 'type' : 'Group' } )""";
    ];
    rr:subjectMap [ 
    	rr:template "http://ns.inria.fr/wasabi/artist/{$._id}";
		rr:class wsb:Artist_Group;
    ];
  	
  	# Id Artist
    rr:predicateObjectMap [
    	rr:predicate mo:uuid ;
    	rr:objectMap [ 
            xrr:reference "$._id";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.name";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
            ];  
    ];

    # Artist's gender
    rr:predicateObjectMap [
        rr:predicate foaf:gender;
        rr:objectMap [ 
            xrr:reference "$.gender";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Deezer
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_artist_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_deezer"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist MusicBrainz
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz_guid;
        rr:objectMap [ 
            xrr:reference "$.id_artist_musicbrainz"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Discogs
    rr:predicateObjectMap [
        rr:predicate wsb:discogs_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_discogs";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Type
    rr:predicateObjectMap [
        rr:predicate rdfs:type;
        rr:objectMap [ 
            xrr:reference "$.type"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name without accent
    rr:predicateObjectMap [
        rr:predicate wsb:name_without_accent;
        rr:objectMap [ 
            xrr:reference "$.name_accent_fold"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Disambiguation
    rr:predicateObjectMap [
        rr:predicate schema:disambiguatingDescription;
        rr:objectMap [ 
            xrr:reference "$.disambiguation"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's Deezer fans
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_fans;
        rr:objectMap [ 
            xrr:reference "$.deezerFans"; 
            rr:termType rr:Literal;
            rr:datatype xsd:integer;
        ];
    ];

    # Artist's page
    rr:predicateObjectMap [
        rr:predicate mo:homepage;
        rr:objectMap [ 
            xrr:reference "$.urlOfficialWebsite"; 
            rr:termType rr:IRI;
        ];
    ];

    # Allmusic page
    rr:predicateObjectMap [
        rr:predicate wsb:allMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlAllmusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # MusicBrainz page
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz;
        rr:objectMap [ 
            xrr:reference "$.urlMusicBrainz"; 
            rr:termType rr:IRI;
        ];
    ];

    # Deezer page
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_page;
        rr:objectMap [ 
            xrr:reference "$.urlDeezer"; 
            rr:termType rr:IRI;
        ];
    ];

    # Abstract
    rr:predicateObjectMap [
        rr:predicate dcterms:abstract;
        rr:objectMap [ 
            xrr:reference "$.abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Subject
    rr:predicateObjectMap [
        rr:predicate dcterms:subject;
        rr:objectMap [ 
            xrr:reference "$.subject"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # DBPedia Abstract
    rr:predicateObjectMap [
        rr:predicate dbp:abstract;
        rr:objectMap [ 
            xrr:reference "$.dbp_abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

     # Artist's picture thumbnail
    rr:predicateObjectMap [
        rr:predicate schema:thumbnail;
        rr:objectMap [
            rr:template "{$.picture.small}";
        ];
    ];

    # Artist's picture 
    rr:predicateObjectMap [
        rr:predicate schema:image;
        rr:objectMap [
            rr:template "{$.picture.xl}";
        ];
    ];

    # Spotify page
    rr:predicateObjectMap [
        rr:predicate wsb:spotify_page;
        rr:objectMap [ 
            xrr:reference "$.urlSpotify"; 
            rr:termType rr:IRI;
        ];
    ];

    # PureVolume page
    rr:predicateObjectMap [
        rr:predicate wsb:pureVolume_page;
        rr:objectMap [ 
            xrr:reference "$.urlPureVolume"; 
            rr:termType rr:IRI;
        ];
    ];

    # GooglePlus page
    rr:predicateObjectMap [
        rr:predicate wsb:googlePlus_page;
        rr:objectMap [ 
            xrr:reference "$.urlGooglePlus"; 
            rr:termType rr:IRI;
        ];
    ];

    # ITunes page
    rr:predicateObjectMap [
        rr:predicate wsb:iTunes_page;
        rr:objectMap [ 
            xrr:reference "$.urlITunes"; 
            rr:termType rr:IRI;
        ];
    ];

    # YouTube page
    rr:predicateObjectMap [
        rr:predicate wsb:youTube_page;
        rr:objectMap [ 
            xrr:reference "$.urlYouTube"; 
            rr:termType rr:IRI;
        ];
    ];

    # BBC page
    rr:predicateObjectMap [
        rr:predicate wsb:BBC_page;
        rr:objectMap [ 
            xrr:reference "$.urlBBC"; 
            rr:termType rr:IRI;
        ];
    ];

    # Amazon page
    rr:predicateObjectMap [
        rr:predicate wsb:amazon_page;
        rr:objectMap [ 
            xrr:reference "$.urlAmazon"; 
            rr:termType rr:IRI;
        ;
    ];

    # SecondHandSongs page
    rr:predicateObjectMap [
        rr:predicate wsb:secondHandSongs_page;
        rr:objectMap [ 
            xrr:reference "$.urlSecondHandSongs"; 
            rr:termType rr:IRI;
        ];
    ];

    # URL LastFm
    rr:predicateObjectMap [
        rr:predicate wsb:lastFm_page;
        rr:objectMap [ 
            xrr:reference "$.urlLastFm"; 
            rr:termType rr:IRI;
        ];
    ];

    # Array genres
    rr:predicateObjectMap [
        rr:predicate mo:genre;
        rr:objectMap [ 
            xrr:reference "$.genres.*";
        ]
    ];

    # Array location info
    rr:predicateObjectMap [
        rr:predicate schema:location;
        rr:objectMap [ 
            xrr:reference "$.locationInfo.*";
        ]
    ];

    # Array DBPedia genres
    rr:predicateObjectMap [
        rr:predicate dbp:genre;
        rr:objectMap [ 
            xrr:reference "$.dbp_genre.*";
        ]
    ];

    # Array associated Artists
    rr:predicateObjectMap [
        rr:predicate dbp:associatedMusicalArtist;
        rr:objectMap [ 
            xrr:reference "$.associatedMusicalArtist.*";
        ]
    ];

    # Array labels
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [ 
            xrr:reference "$.labels.*";
        ]
    ];

    # Array name variations
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.nameVariations.*";
        ]
    ];

    # Beginning
    rr:predicateObjectMap [
        rr:predicate schema:foundingDate;
        rr:objectMap [ 
            xrr:reference "$.begin";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # End
    rr:predicateObjectMap [
        rr:predicate schema:dissolutionDate;
        rr:objectMap [ 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Wikipedia page
    rr:predicateObjectMap [
        rr:predicate mo:wikipedia;
        rr:objectMap [ 
            xrr:reference "$.urlWikipedia"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikidata page
    rr:predicateObjectMap [
        rr:predicate wsb:wikidata_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikidata"; 
            rr:termType rr:IRI;
        ];
    ];

    # Discogs page
    rr:predicateObjectMap [
        rr:predicate mo:discogs;
        rr:objectMap [ 
            xrr:reference "$.urlDiscogs"; 
            rr:termType rr:IRI;
        ];
    ];

    # Facebook page
    rr:predicateObjectMap [
        rr:predicate wsb:facebook_page;
        rr:objectMap [ 
            xrr:reference "$.urlFacebook"; 
            rr:termType rr:IRI;
        ];
    ];

    # MySpace page
    rr:predicateObjectMap [
        rr:predicate mo:myspace;
        rr:objectMap [ 
            xrr:reference "$.urlMySpace"; 
            rr:termType rr:IRI;
        ];
    ];

    # RateYourMusic page
    rr:predicateObjectMap [
        rr:predicate wsb:rateYourMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlRateYourMusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # Twitter page
    rr:predicateObjectMap [
        rr:predicate wsb:twitter_page;
        rr:objectMap [ 
            xrr:reference "$.urlTwitter"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikia page
    rr:predicateObjectMap [
        rr:predicate wsb:wikia_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikia"; 
            rr:termType rr:IRI;
        ];
    ];

    # SoundCloud page
    rr:predicateObjectMap [
        rr:predicate wsb:soundCloud_page;
        rr:objectMap [ 
            xrr:reference "$.urlSoundCloud"; 
            rr:termType rr:IRI;
        ];
    ];

    # Instagram page
    rr:predicateObjectMap [
        rr:predicate wsb:instagram_page;
        rr:objectMap [ 
            xrr:reference "$.urlInstagram"; 
            rr:termType rr:IRI;
        ];
    ];

    # Object location
    rr:predicateObjectMap [
        rr:predicate wsb:location;
        rr:objectMap [
            xrr:reference "$.location.*";
            rr:termType xrr:RdfList;
            xrr:nestedTermMap [
                rr:template "{$.id_city_musicbrainz} {$.country} {$.city}";
                rr:termType rr:BlankNode;
            ];
        ];
    ].

<#Choir>
    a rr:TriplesMap;
    xrr:logicalSource [
    	# Jongo needs strings in singles quotes (difference with MongoDB shell)
        xrr:query """db.artist_without_members.find( { 'name' : {$exists: 1} , 'type' : 'Choir' } )""";
    ];
    rr:subjectMap [ 
    	rr:template "http://ns.inria.fr/wasabi/artist/{$._id}";
		rr:class wsb:Artist_Group;
    ];
  	
  	# Id Artist
    rr:predicateObjectMap [
    	rr:predicate mo:uuid ;
    	rr:objectMap [ 
            xrr:reference "$._id";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.name";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
            ];  
    ];

    # Artist's gender
    rr:predicateObjectMap [
        rr:predicate foaf:gender;
        rr:objectMap [ 
            xrr:reference "$.gender";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Deezer
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_artist_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_deezer"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist MusicBrainz
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz_guid;
        rr:objectMap [ 
            xrr:reference "$.id_artist_musicbrainz"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Discogs
    rr:predicateObjectMap [
        rr:predicate wsb:discogs_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_discogs";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Type
    rr:predicateObjectMap [
        rr:predicate rdfs:type;
        rr:objectMap [ 
            xrr:reference "$.type"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name without accent
    rr:predicateObjectMap [
        rr:predicate wsb:name_without_accent;
        rr:objectMap [ 
            xrr:reference "$.name_accent_fold"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Disambiguation
    rr:predicateObjectMap [
        rr:predicate schema:disambiguatingDescription;
        rr:objectMap [ 
            xrr:reference "$.disambiguation"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's Deezer fans
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_fans;
        rr:objectMap [ 
            xrr:reference "$.deezerFans"; 
            rr:termType rr:Literal;
            rr:datatype xsd:integer;
        ];
    ];

    # Artist's page
    rr:predicateObjectMap [
        rr:predicate mo:homepage;
        rr:objectMap [ 
            xrr:reference "$.urlOfficialWebsite"; 
            rr:termType rr:IRI;
        ];
    ];

    # Allmusic page
    rr:predicateObjectMap [
        rr:predicate wsb:allMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlAllmusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # MusicBrainz page
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz;
        rr:objectMap [ 
            xrr:reference "$.urlMusicBrainz"; 
            rr:termType rr:IRI;
        ];
    ];

    # Deezer page
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_page;
        rr:objectMap [ 
            xrr:reference "$.urlDeezer"; 
            rr:termType rr:IRI;
        ];
    ];

    # Abstract
    rr:predicateObjectMap [
        rr:predicate dcterms:abstract;
        rr:objectMap [ 
            xrr:reference "$.abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Subject
    rr:predicateObjectMap [
        rr:predicate dcterms:subject;
        rr:objectMap [ 
            xrr:reference "$.subject"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # DBPedia Abstract
    rr:predicateObjectMap [
        rr:predicate dbp:abstract;
        rr:objectMap [ 
            xrr:reference "$.dbp_abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

     # Artist's picture thumbnail
    rr:predicateObjectMap [
        rr:predicate schema:thumbnail;
        rr:objectMap [
            rr:template "{$.picture.small}";
        ];
    ];

    # Artist's picture 
    rr:predicateObjectMap [
        rr:predicate schema:image;
        rr:objectMap [
            rr:template "{$.picture.xl}";
        ];
    ];

    # Spotify page
    rr:predicateObjectMap [
        rr:predicate wsb:spotify_page;
        rr:objectMap [ 
            xrr:reference "$.urlSpotify"; 
            rr:termType rr:IRI;
        ];
    ];

    # PureVolume page
    rr:predicateObjectMap [
        rr:predicate wsb:pureVolume_page;
        rr:objectMap [ 
            xrr:reference "$.urlPureVolume"; 
            rr:termType rr:IRI;
        ];
    ];

    # GooglePlus page
    rr:predicateObjectMap [
        rr:predicate wsb:googlePlus_page;
        rr:objectMap [ 
            xrr:reference "$.urlGooglePlus"; 
            rr:termType rr:IRI;
        ];
    ];

    # ITunes page
    rr:predicateObjectMap [
        rr:predicate wsb:iTunes_page;
        rr:objectMap [ 
            xrr:reference "$.urlITunes"; 
            rr:termType rr:IRI;
        ];
    ];

    # YouTube page
    rr:predicateObjectMap [
        rr:predicate wsb:youTube_page;
        rr:objectMap [ 
            xrr:reference "$.urlYouTube"; 
            rr:termType rr:IRI;
        ];
    ];

    # BBC page
    rr:predicateObjectMap [
        rr:predicate wsb:BBC_page;
        rr:objectMap [ 
            xrr:reference "$.urlBBC"; 
            rr:termType rr:IRI;
        ];
    ];

    # Amazon page
    rr:predicateObjectMap [
        rr:predicate wsb:amazon_page;
        rr:objectMap [ 
            xrr:reference "$.urlAmazon"; 
            rr:termType rr:IRI;
        ;
    ];

    # SecondHandSongs page
    rr:predicateObjectMap [
        rr:predicate wsb:secondHandSongs_page;
        rr:objectMap [ 
            xrr:reference "$.urlSecondHandSongs"; 
            rr:termType rr:IRI;
        ];
    ];

    # URL LastFm
    rr:predicateObjectMap [
        rr:predicate wsb:lastFm_page;
        rr:objectMap [ 
            xrr:reference "$.urlLastFm"; 
            rr:termType rr:IRI;
        ];
    ];

    # Array genres
    rr:predicateObjectMap [
        rr:predicate mo:genre;
        rr:objectMap [ 
            xrr:reference "$.genres.*";
        ]
    ];

    # Array location info
    rr:predicateObjectMap [
        rr:predicate schema:location;
        rr:objectMap [ 
            xrr:reference "$.locationInfo.*";
        ]
    ];

    # Array DBPedia genres
    rr:predicateObjectMap [
        rr:predicate dbp:genre;
        rr:objectMap [ 
            xrr:reference "$.dbp_genre.*";
        ]
    ];

    # Array associated Artists
    rr:predicateObjectMap [
        rr:predicate dbp:associatedMusicalArtist;
        rr:objectMap [ 
            xrr:reference "$.associatedMusicalArtist.*";
        ]
    ];

    # Array labels
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [ 
            xrr:reference "$.labels.*";
        ]
    ];

    # Array name variations
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.nameVariations.*";
        ]
    ];

    # Beginning
    rr:predicateObjectMap [
        rr:predicate schema:foundingDate;
        rr:objectMap [ 
            xrr:reference "$.begin";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # End
    rr:predicateObjectMap [
        rr:predicate schema:dissolutionDate;
        rr:objectMap [ 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Wikipedia page
    rr:predicateObjectMap [
        rr:predicate mo:wikipedia;
        rr:objectMap [ 
            xrr:reference "$.urlWikipedia"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikidata page
    rr:predicateObjectMap [
        rr:predicate wsb:wikidata_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikidata"; 
            rr:termType rr:IRI;
        ];
    ];

    # Discogs page
    rr:predicateObjectMap [
        rr:predicate mo:discogs;
        rr:objectMap [ 
            xrr:reference "$.urlDiscogs"; 
            rr:termType rr:IRI;
        ];
    ];

    # Facebook page
    rr:predicateObjectMap [
        rr:predicate wsb:facebook_page;
        rr:objectMap [ 
            xrr:reference "$.urlFacebook"; 
            rr:termType rr:IRI;
        ];
    ];

    # MySpace page
    rr:predicateObjectMap [
        rr:predicate mo:myspace;
        rr:objectMap [ 
            xrr:reference "$.urlMySpace"; 
            rr:termType rr:IRI;
        ];
    ];

    # RateYourMusic page
    rr:predicateObjectMap [
        rr:predicate wsb:rateYourMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlRateYourMusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # Twitter page
    rr:predicateObjectMap [
        rr:predicate wsb:twitter_page;
        rr:objectMap [ 
            xrr:reference "$.urlTwitter"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikia page
    rr:predicateObjectMap [
        rr:predicate wsb:wikia_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikia"; 
            rr:termType rr:IRI;
        ];
    ];

    # SoundCloud page
    rr:predicateObjectMap [
        rr:predicate wsb:soundCloud_page;
        rr:objectMap [ 
            xrr:reference "$.urlSoundCloud"; 
            rr:termType rr:IRI;
        ];
    ];

    # Instagram page
    rr:predicateObjectMap [
        rr:predicate wsb:instagram_page;
        rr:objectMap [ 
            xrr:reference "$.urlInstagram"; 
            rr:termType rr:IRI;
        ];
    ];

    # Object location
    rr:predicateObjectMap [
        rr:predicate wsb:location;
        rr:objectMap [
            xrr:reference "$.location.*";
            rr:termType xrr:RdfList;
            xrr:nestedTermMap [
                rr:template "{$.id_city_musicbrainz} {$.country} {$.city}";
                rr:termType rr:BlankNode;
            ];
        ];
    ].

<#Orchestra>
    a rr:TriplesMap;
    xrr:logicalSource [
    	# Jongo needs strings in singles quotes (difference with MongoDB shell)
        xrr:query """db.artist_without_members.find( { 'name' : {$exists: 1} , 'type' : 'Orchestra' } )""";
    ];
    rr:subjectMap [ 
    	rr:template "http://ns.inria.fr/wasabi/artist/{$._id}";
		rr:class wsb:Artist_Group;
    ];
  	
  	# Id Artist
    rr:predicateObjectMap [
    	rr:predicate mo:uuid ;
    	rr:objectMap [ 
            xrr:reference "$._id";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.name";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
            ];  
    ];

    # Artist's gender
    rr:predicateObjectMap [
        rr:predicate foaf:gender;
        rr:objectMap [ 
            xrr:reference "$.gender";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Deezer
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_artist_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_deezer"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist MusicBrainz
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz_guid;
        rr:objectMap [ 
            xrr:reference "$.id_artist_musicbrainz"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Discogs
    rr:predicateObjectMap [
        rr:predicate wsb:discogs_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_discogs";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Type
    rr:predicateObjectMap [
        rr:predicate rdfs:type;
        rr:objectMap [ 
            xrr:reference "$.type"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name without accent
    rr:predicateObjectMap [
        rr:predicate wsb:name_without_accent;
        rr:objectMap [ 
            xrr:reference "$.name_accent_fold"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Disambiguation
    rr:predicateObjectMap [
        rr:predicate schema:disambiguatingDescription;
        rr:objectMap [ 
            xrr:reference "$.disambiguation"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's Deezer fans
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_fans;
        rr:objectMap [ 
            xrr:reference "$.deezerFans"; 
            rr:termType rr:Literal;
            rr:datatype xsd:integer;
        ];
    ];

    # Artist's page
    rr:predicateObjectMap [
        rr:predicate mo:homepage;
        rr:objectMap [ 
            xrr:reference "$.urlOfficialWebsite"; 
            rr:termType rr:IRI;
        ];
    ];

    # Allmusic page
    rr:predicateObjectMap [
        rr:predicate wsb:allMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlAllmusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # MusicBrainz page
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz;
        rr:objectMap [ 
            xrr:reference "$.urlMusicBrainz"; 
            rr:termType rr:IRI;
        ];
    ];

    # Deezer page
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_page;
        rr:objectMap [ 
            xrr:reference "$.urlDeezer"; 
            rr:termType rr:IRI;
        ];
    ];

    # Abstract
    rr:predicateObjectMap [
        rr:predicate dcterms:abstract;
        rr:objectMap [ 
            xrr:reference "$.abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Subject
    rr:predicateObjectMap [
        rr:predicate dcterms:subject;
        rr:objectMap [ 
            xrr:reference "$.subject"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # DBPedia Abstract
    rr:predicateObjectMap [
        rr:predicate dbp:abstract;
        rr:objectMap [ 
            xrr:reference "$.dbp_abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

     # Artist's picture thumbnail
    rr:predicateObjectMap [
        rr:predicate schema:thumbnail;
        rr:objectMap [
            rr:template "{$.picture.small}";
        ];
    ];

    # Artist's picture 
    rr:predicateObjectMap [
        rr:predicate schema:image;
        rr:objectMap [
            rr:template "{$.picture.xl}";
        ];
    ];

    # Spotify page
    rr:predicateObjectMap [
        rr:predicate wsb:spotify_page;
        rr:objectMap [ 
            xrr:reference "$.urlSpotify"; 
            rr:termType rr:IRI;
        ];
    ];

    # PureVolume page
    rr:predicateObjectMap [
        rr:predicate wsb:pureVolume_page;
        rr:objectMap [ 
            xrr:reference "$.urlPureVolume"; 
            rr:termType rr:IRI;
        ];
    ];

    # GooglePlus page
    rr:predicateObjectMap [
        rr:predicate wsb:googlePlus_page;
        rr:objectMap [ 
            xrr:reference "$.urlGooglePlus"; 
            rr:termType rr:IRI;
        ];
    ];

    # ITunes page
    rr:predicateObjectMap [
        rr:predicate wsb:iTunes_page;
        rr:objectMap [ 
            xrr:reference "$.urlITunes"; 
            rr:termType rr:IRI;
        ];
    ];

    # YouTube page
    rr:predicateObjectMap [
        rr:predicate wsb:youTube_page;
        rr:objectMap [ 
            xrr:reference "$.urlYouTube"; 
            rr:termType rr:IRI;
        ];
    ];

    # BBC page
    rr:predicateObjectMap [
        rr:predicate wsb:BBC_page;
        rr:objectMap [ 
            xrr:reference "$.urlBBC"; 
            rr:termType rr:IRI;
        ];
    ];

    # Amazon page
    rr:predicateObjectMap [
        rr:predicate wsb:amazon_page;
        rr:objectMap [ 
            xrr:reference "$.urlAmazon"; 
            rr:termType rr:IRI;
        ;
    ];

    # SecondHandSongs page
    rr:predicateObjectMap [
        rr:predicate wsb:secondHandSongs_page;
        rr:objectMap [ 
            xrr:reference "$.urlSecondHandSongs"; 
            rr:termType rr:IRI;
        ];
    ];

    # URL LastFm
    rr:predicateObjectMap [
        rr:predicate wsb:lastFm_page;
        rr:objectMap [ 
            xrr:reference "$.urlLastFm"; 
            rr:termType rr:IRI;
        ];
    ];

    # Array genres
    rr:predicateObjectMap [
        rr:predicate mo:genre;
        rr:objectMap [ 
            xrr:reference "$.genres.*";
        ]
    ];

    # Array location info
    rr:predicateObjectMap [
        rr:predicate schema:location;
        rr:objectMap [ 
            xrr:reference "$.locationInfo.*";
        ]
    ];

    # Array DBPedia genres
    rr:predicateObjectMap [
        rr:predicate dbp:genre;
        rr:objectMap [ 
            xrr:reference "$.dbp_genre.*";
        ]
    ];

    # Array associated Artists
    rr:predicateObjectMap [
        rr:predicate dbp:associatedMusicalArtist;
        rr:objectMap [ 
            xrr:reference "$.associatedMusicalArtist.*";
        ]
    ];

    # Array labels
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [ 
            xrr:reference "$.labels.*";
        ]
    ];

    # Array name variations
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.nameVariations.*";
        ]
    ];

    # Beginning
    rr:predicateObjectMap [
        rr:predicate schema:foundingDate;
        rr:objectMap [ 
            xrr:reference "$.begin";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # End
    rr:predicateObjectMap [
        rr:predicate schema:dissolutionDate;
        rr:objectMap [ 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Wikipedia page
    rr:predicateObjectMap [
        rr:predicate mo:wikipedia;
        rr:objectMap [ 
            xrr:reference "$.urlWikipedia"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikidata page
    rr:predicateObjectMap [
        rr:predicate wsb:wikidata_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikidata"; 
            rr:termType rr:IRI;
        ];
    ];

    # Discogs page
    rr:predicateObjectMap [
        rr:predicate mo:discogs;
        rr:objectMap [ 
            xrr:reference "$.urlDiscogs"; 
            rr:termType rr:IRI;
        ];
    ];

    # Facebook page
    rr:predicateObjectMap [
        rr:predicate wsb:facebook_page;
        rr:objectMap [ 
            xrr:reference "$.urlFacebook"; 
            rr:termType rr:IRI;
        ];
    ];

    # MySpace page
    rr:predicateObjectMap [
        rr:predicate mo:myspace;
        rr:objectMap [ 
            xrr:reference "$.urlMySpace"; 
            rr:termType rr:IRI;
        ];
    ];

    # RateYourMusic page
    rr:predicateObjectMap [
        rr:predicate wsb:rateYourMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlRateYourMusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # Twitter page
    rr:predicateObjectMap [
        rr:predicate wsb:twitter_page;
        rr:objectMap [ 
            xrr:reference "$.urlTwitter"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikia page
    rr:predicateObjectMap [
        rr:predicate wsb:wikia_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikia"; 
            rr:termType rr:IRI;
        ];
    ];

    # SoundCloud page
    rr:predicateObjectMap [
        rr:predicate wsb:soundCloud_page;
        rr:objectMap [ 
            xrr:reference "$.urlSoundCloud"; 
            rr:termType rr:IRI;
        ];
    ];

    # Instagram page
    rr:predicateObjectMap [
        rr:predicate wsb:instagram_page;
        rr:objectMap [ 
            xrr:reference "$.urlInstagram"; 
            rr:termType rr:IRI;
        ];
    ];

    # Object location
    rr:predicateObjectMap [
        rr:predicate wsb:location;
        rr:objectMap [
            xrr:reference "$.location.*";
            rr:termType xrr:RdfList;
            xrr:nestedTermMap [
                rr:template "{$.id_city_musicbrainz} {$.country} {$.city}";
                rr:termType rr:BlankNode;
            ];
        ];
    ].


<#Other>
    a rr:TriplesMap;
    xrr:logicalSource [
    	# Jongo needs strings in singles quotes (difference with MongoDB shell)
        xrr:query """db.artist_without_members.find( { 'name' : {$exists: 1} , {$or: [{'type': 'Other'}, {'type': ''}]} )""";
    ];
    rr:subjectMap [ 
    	rr:template "http://ns.inria.fr/wasabi/artist/{$._id}";
		rr:class mo:MusicArtist;
    ];
  	
  	# Id Artist
    rr:predicateObjectMap [
    	rr:predicate mo:uuid ;
    	rr:objectMap [ 
            xrr:reference "$._id";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.name";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
            ];  
    ];

    # Artist's gender
    rr:predicateObjectMap [
        rr:predicate foaf:gender;
        rr:objectMap [ 
            xrr:reference "$.gender";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Deezer
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_artist_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_deezer"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist MusicBrainz
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz_guid;
        rr:objectMap [ 
            xrr:reference "$.id_artist_musicbrainz"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Id Artist Discogs
    rr:predicateObjectMap [
        rr:predicate wsb:discogs_id;
        rr:objectMap [ 
            xrr:reference "$.id_artist_discogs";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Type
    rr:predicateObjectMap [
        rr:predicate rdfs:type;
        rr:objectMap [ 
            xrr:reference "$.type"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's name without accent
    rr:predicateObjectMap [
        rr:predicate wsb:name_without_accent;
        rr:objectMap [ 
            xrr:reference "$.name_accent_fold"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Disambiguation
    rr:predicateObjectMap [
        rr:predicate schema:disambiguatingDescription;
        rr:objectMap [ 
            xrr:reference "$.disambiguation"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Artist's Deezer fans
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_fans;
        rr:objectMap [ 
            xrr:reference "$.deezerFans"; 
            rr:termType rr:Literal;
            rr:datatype xsd:integer;
        ];
    ];

    # Artist's page
    rr:predicateObjectMap [
        rr:predicate mo:homepage;
        rr:objectMap [ 
            xrr:reference "$.urlOfficialWebsite"; 
            rr:termType rr:IRI;
        ];
    ];

    # Allmusic page
    rr:predicateObjectMap [
        rr:predicate wsb:allMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlAllmusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # MusicBrainz page
    rr:predicateObjectMap [
        rr:predicate mo:musicbrainz;
        rr:objectMap [ 
            xrr:reference "$.urlMusicBrainz"; 
            rr:termType rr:IRI;
        ];
    ];

    # Deezer page
    rr:predicateObjectMap [
        rr:predicate wsb:deezer_page;
        rr:objectMap [ 
            xrr:reference "$.urlDeezer"; 
            rr:termType rr:IRI;
        ];
    ];

    # Abstract
    rr:predicateObjectMap [
        rr:predicate dcterms:abstract;
        rr:objectMap [ 
            xrr:reference "$.abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Subject
    rr:predicateObjectMap [
        rr:predicate dcterms:subject;
        rr:objectMap [ 
            xrr:reference "$.subject"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # DBPedia Abstract
    rr:predicateObjectMap [
        rr:predicate dbp:abstract;
        rr:objectMap [ 
            xrr:reference "$.dbp_abstract"; 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

     # Artist's picture thumbnail
    rr:predicateObjectMap [
        rr:predicate schema:thumbnail;
        rr:objectMap [
            rr:template "{$.picture.small}";
        ];
    ];

    # Artist's picture 
    rr:predicateObjectMap [
        rr:predicate schema:image;
        rr:objectMap [
            rr:template "{$.picture.xl}";
        ];
    ];

    # Spotify page
    rr:predicateObjectMap [
        rr:predicate wsb:spotify_page;
        rr:objectMap [ 
            xrr:reference "$.urlSpotify"; 
            rr:termType rr:IRI;
        ];
    ];

    # PureVolume page
    rr:predicateObjectMap [
        rr:predicate wsb:pureVolume_page;
        rr:objectMap [ 
            xrr:reference "$.urlPureVolume"; 
            rr:termType rr:IRI;
        ];
    ];

    # GooglePlus page
    rr:predicateObjectMap [
        rr:predicate wsb:googlePlus_page;
        rr:objectMap [ 
            xrr:reference "$.urlGooglePlus"; 
            rr:termType rr:IRI;
        ];
    ];

    # ITunes page
    rr:predicateObjectMap [
        rr:predicate wsb:iTunes_page;
        rr:objectMap [ 
            xrr:reference "$.urlITunes"; 
            rr:termType rr:IRI;
        ];
    ];

    # YouTube page
    rr:predicateObjectMap [
        rr:predicate wsb:youTube_page;
        rr:objectMap [ 
            xrr:reference "$.urlYouTube"; 
            rr:termType rr:IRI;
        ];
    ];

    # BBC page
    rr:predicateObjectMap [
        rr:predicate wsb:BBC_page;
        rr:objectMap [ 
            xrr:reference "$.urlBBC"; 
            rr:termType rr:IRI;
        ];
    ];

    # Amazon page
    rr:predicateObjectMap [
        rr:predicate wsb:amazon_page;
        rr:objectMap [ 
            xrr:reference "$.urlAmazon"; 
            rr:termType rr:IRI;
        ;
    ];

    # SecondHandSongs page
    rr:predicateObjectMap [
        rr:predicate wsb:secondHandSongs_page;
        rr:objectMap [ 
            xrr:reference "$.urlSecondHandSongs"; 
            rr:termType rr:IRI;
        ];
    ];

    # URL LastFm
    rr:predicateObjectMap [
        rr:predicate wsb:lastFm_page;
        rr:objectMap [ 
            xrr:reference "$.urlLastFm"; 
            rr:termType rr:IRI;
        ];
    ];

    # Array genres
    rr:predicateObjectMap [
        rr:predicate mo:genre;
        rr:objectMap [ 
            xrr:reference "$.genres.*";
        ]
    ];

    # Array location info
    rr:predicateObjectMap [
        rr:predicate schema:location;
        rr:objectMap [ 
            xrr:reference "$.locationInfo.*";
        ]
    ];

    # Array DBPedia genres
    rr:predicateObjectMap [
        rr:predicate dbp:genre;
        rr:objectMap [ 
            xrr:reference "$.dbp_genre.*";
        ]
    ];

    # Array associated Artists
    rr:predicateObjectMap [
        rr:predicate dbp:associatedMusicalArtist;
        rr:objectMap [ 
            xrr:reference "$.associatedMusicalArtist.*";
        ]
    ];

    # Array labels
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [ 
            xrr:reference "$.labels.*";
        ]
    ];

    # Array name variations
    rr:predicateObjectMap [
        rr:predicate foaf:name;
        rr:objectMap [ 
            xrr:reference "$.nameVariations.*";
        ]
    ];

    # Beginning
    rr:predicateObjectMap [
        rr:predicate schema:foundingDate;
        rr:objectMap [ 
            xrr:reference "$.begin";
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # End
    rr:predicateObjectMap [
        rr:predicate schema:dissolutionDate;
        rr:objectMap [ 
            rr:termType rr:Literal;
            rr:datatype xsd:string;
        ];  
    ];

    # Wikipedia page
    rr:predicateObjectMap [
        rr:predicate mo:wikipedia;
        rr:objectMap [ 
            xrr:reference "$.urlWikipedia"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikidata page
    rr:predicateObjectMap [
        rr:predicate wsb:wikidata_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikidata"; 
            rr:termType rr:IRI;
        ];
    ];

    # Discogs page
    rr:predicateObjectMap [
        rr:predicate mo:discogs;
        rr:objectMap [ 
            xrr:reference "$.urlDiscogs"; 
            rr:termType rr:IRI;
        ];
    ];

    # Facebook page
    rr:predicateObjectMap [
        rr:predicate wsb:facebook_page;
        rr:objectMap [ 
            xrr:reference "$.urlFacebook"; 
            rr:termType rr:IRI;
        ];
    ];

    # MySpace page
    rr:predicateObjectMap [
        rr:predicate mo:myspace;
        rr:objectMap [ 
            xrr:reference "$.urlMySpace"; 
            rr:termType rr:IRI;
        ];
    ];

    # RateYourMusic page
    rr:predicateObjectMap [
        rr:predicate wsb:rateYourMusic_page;
        rr:objectMap [ 
            xrr:reference "$.urlRateYourMusic"; 
            rr:termType rr:IRI;
        ];
    ];

    # Twitter page
    rr:predicateObjectMap [
        rr:predicate wsb:twitter_page;
        rr:objectMap [ 
            xrr:reference "$.urlTwitter"; 
            rr:termType rr:IRI;
        ];
    ];

    # Wikia page
    rr:predicateObjectMap [
        rr:predicate wsb:wikia_page;
        rr:objectMap [ 
            xrr:reference "$.urlWikia"; 
            rr:termType rr:IRI;
        ];
    ];

    # SoundCloud page
    rr:predicateObjectMap [
        rr:predicate wsb:soundCloud_page;
        rr:objectMap [ 
            xrr:reference "$.urlSoundCloud"; 
            rr:termType rr:IRI;
        ];
    ];

    # Instagram page
    rr:predicateObjectMap [
        rr:predicate wsb:instagram_page;
        rr:objectMap [ 
            xrr:reference "$.urlInstagram"; 
            rr:termType rr:IRI;
        ];
    ];

    # Object location
    rr:predicateObjectMap [
        rr:predicate wsb:location;
        rr:objectMap [
            xrr:reference "$.location.*";
            rr:termType xrr:RdfList;
            xrr:nestedTermMap [
                rr:template "{$.id_city_musicbrainz} {$.country} {$.city}";
                rr:termType rr:BlankNode;
            ];
        ];
    ].

<Artist_Location>
    a rr:TriplesMap;
    xrr:logicalSource [
    	# Jongo needs strings in singles quotes (difference with MongoDB shell)
        xrr:query """db.artist.find( { 'name' : {$exists: 1} } )""";
        rml:iterator "$.location.*"
    ];
    rr:subjectMap [ 
    	rr:template "{$.id_city_musicbrainz} {$.country} {$.city}";
        rr:termType rr:BlankNode;
    ];

    # Id city MusisBrainz
    rr:predicateObjectMap [
        rr:predicate wsb:musicbrainz_id;
        rr:objectMap [ 
            xrr:reference "$.id_city_musicbrainz";
            ];
    ];

    # Country
    rr:predicateObjectMap [
        rr:predicate wsb:country;
        rr:objectMap [ 
            xrr:reference "$.country";
            ];
    ];

    # City
    rr:predicateObjectMap [
        rr:predicate wsb:city;
        rr:objectMap [ 
            xrr:reference "$.city";
            ];
    ].
